package graphiques;

import java.util.*;
import org.newdawn.slick.*;

import generaux.Rond;
import interfaces.*;
import lanceur.App;

public class Nuage extends Graphique
{
	private ArrayList<Rond> ronds;
	private Color color;
	
	private int tailleX;
	private int tailleY;
	
	public Nuage()
	{
		super((int)(Math.random()*App.width),(int)(Math.random()*App.height));
		ronds = new ArrayList<Rond>();
		
		double delai = ((Math.random()*20)*2)+10;
		int tmp = 220+(int)((1-(delai/50))*35);
				
		this.setDelai((int)(delai));
		this.color = new Color(tmp,tmp,tmp);
		
		tailleX = (int)(Math.random()*200)+100;
		tailleY = (int)(Math.random()*25)+50;
		
		for(int i=0;i<6;i++){
			ronds.add(new Rond((int)(Math.random()*(tailleX-25))+25,getY()-25));
			ronds.add(new Rond((int)(Math.random()*(tailleX-25))+25,tailleY-25));
		}
		for(int i=0;i<4;i++){
			ronds.add(new Rond(getX()-25,(int)(Math.random()*(tailleY-25))+25));
			ronds.add(new Rond(tailleX-25,(int)(Math.random()*(tailleY-25))+25));
		}
	}
	
	public void render(GameContainer container, Graphics g) throws SlickException 
	{
		g.setColor(this.color);
		g.fillOval(getX(), getY(), tailleX, tailleY);
		for(Rond rond : ronds) {rond.render(getX(),getY(),container,g);}
	}

	public void update(GameContainer container, int delta) throws SlickException 
	{
		
	}
}